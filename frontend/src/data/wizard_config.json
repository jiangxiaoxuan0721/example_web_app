{
  "modes": {
    "single": {
      "name": "Model A: 单次 N-1 仿真",
      "description": "执行单个N-1故障仿真，适用于特定故障场景的详细分析",
      "steps": [
        {
          "id": "init_model",
          "title": "加载模型并初始化",
          "description": "加载电力系统模型并进行初始化",
          "executionStrategy": "auto",
          "component": "model_init",
          "nextAction": "auto"
        },
        {
          "id": "power_flow_config",
          "title": "查看/修改潮流计算任务与参数方案",
          "description": "查看和配置潮流计算参数方案",
          "executionStrategy": "auto_wait_confirm",
          "component": "parameter_table",
          "nextAction": "confirm_modify"
        },
        {
          "id": "execute_power_flow",
          "title": "生成随机潮流样本并执行潮流计算",
          "description": "生成随机潮流样本并执行潮流计算",
          "executionStrategy": "ask_execute",
          "component": "execution_panel",
          "nextAction": "confirm_execute"
        },
        {
          "id": "fault_parameters",
          "title": "生成或请求 N-1 故障参数",
          "description": "生成或自定义N-1故障参数",
          "executionStrategy": "ask_execute",
          "component": "fault_config",
          "nextAction": "confirm_execute"
        },
        {
          "id": "transient_config",
          "title": "查看/修改电磁暂态计算任务与参数方案",
          "description": "查看和配置电磁暂态计算参数方案",
          "executionStrategy": "auto_wait_confirm",
          "component": "parameter_table",
          "nextAction": "confirm_modify"
        },
        {
          "id": "add_measurements",
          "title": "添加量测信号",
          "description": "添加必要的量测信号用于结果分析",
          "executionStrategy": "ask_execute",
          "component": "measurement_config",
          "nextAction": "confirm_execute"
        },
        {
          "id": "execute_simulation",
          "title": "执行仿真",
          "description": "执行N-1仿真计算",
          "executionStrategy": "ask_execute",
          "component": "execution_panel",
          "nextAction": "confirm_execute"
        },
        {
          "id": "result_analysis",
          "title": "结果分析与输出",
          "description": "分析仿真结果并输出",
          "executionStrategy": "auto",
          "component": "result_viewer",
          "nextAction": "auto"
        }
      ]
    },
    "batch": {
      "name": "Model B: 批量 N-1 仿真",
      "description": "执行多个N-1故障仿真，适用于系统稳定性的全面分析",
      "steps": [
        {
          "id": "view_default_config",
          "title": "查看默认参数方案与计算方案",
          "description": "查看当前的默认配置",
          "executionStrategy": "auto_wait_confirm",
          "component": "parameter_table",
          "nextAction": "confirm_modify"
        },
        {
          "id": "confirm_workflow_template",
          "title": "确认单次仿真流程模板",
          "description": "确认用于批量仿真的单次仿真流程模板",
          "executionStrategy": "auto_wait_confirm",
          "component": "workflow_template",
          "nextAction": "confirm_template"
        },
        {
          "id": "tool_parameters_explanation",
          "title": "工具参数说明与配置确认",
          "description": "解释流程中每个工具的参数配置",
          "executionStrategy": "auto_wait_confirm",
          "component": "parameter_explanation",
          "nextAction": "confirm_config"
        },
        {
          "id": "generate_batch_config",
          "title": "生成批量配置 JSON",
          "description": "根据收集的信息生成批量仿真配置",
          "executionStrategy": "auto_wait_confirm",
          "component": "batch_config_editor",
          "nextAction": "confirm_config"
        },
        {
          "id": "parameter_check_and_confirm",
          "title": "参数检查与批量次数确认",
          "description": "检查配置并确认批量仿真次数",
          "executionStrategy": "auto_wait_confirm",
          "component": "parameter_validator",
          "nextAction": "confirm_count"
        },
        {
          "id": "submit_batch_task",
          "title": "提交批量仿真任务",
          "description": "提交批量仿真任务并获取任务ID",
          "executionStrategy": "ask_execute",
          "component": "task_submitter",
          "nextAction": "confirm_submit"
        }
      ]
    }
  },
  "components": {
    "model_init": {
      "type": "status_panel",
      "fields": [
        {"label": "模型名称", "key": "name", "type": "text"},
        {"label": "发电机数量", "key": "generators", "type": "number"},
        {"label": "负荷数量", "key": "loads", "type": "number"},
        {"label": "支路数量", "key": "branches", "type": "number"}
      ]
    },
    "parameter_table": {
      "type": "table",
      "fields": [
        {"label": "参数名称", "key": "name", "type": "text"},
        {"label": "参数值", "key": "value", "type": "text"},
        {"label": "说明", "key": "description", "type": "text"}
      ]
    },
    "execution_panel": {
      "type": "execution",
      "showProgress": true,
      "showStatus": true
    },
    "fault_config": {
      "type": "form",
      "fields": [
        {"label": "故障母线", "key": "fault_bus", "type": "select"},
        {"label": "故障类型", "key": "fault_type", "type": "select"}
      ]
    },
    "measurement_config": {
      "type": "form",
      "fields": [
        {"label": "母线电压", "key": "Vrms", "type": "checkbox", "rid": "model/CloudPSS/_newBus_3p"},
        {"label": "发电机功率", "key": "PT_o", "type": "checkbox", "rid": "model/CloudPSS/SyncGeneratorRouter"},
        {"label": "发电机转速", "key": "wr_o", "type": "checkbox", "rid": "model/CloudPSS/SyncGeneratorRouter"},
        {"label": "发电机攻角", "key": "theta_o", "type": "checkbox", "rid": "model/CloudPSS/SyncGeneratorRouter"}
      ]
    },
    "result_viewer": {
      "type": "result",
      "showImages": true,
      "showTable": true
    },
    "workflow_template": {
      "type": "list",
      "fields": ["name", "description"]
    },
    "parameter_explanation": {
      "type": "explanation",
      "fields": ["tool", "parameters"]
    },
    "batch_config_editor": {
      "type": "json_editor",
      "fields": ["steps", "zip"]
    },
    "parameter_validator": {
      "type": "validation",
      "showCountInput": true
    },
    "task_submitter": {
      "type": "task_submission",
      "showTaskId": true,
      "showStatus": true
    }
  },
  "actions": {
    "auto": "自动执行，无需用户确认",
    "confirm_modify": "用户确认是否修改配置",
    "confirm_execute": "用户确认是否执行操作",
    "confirm_config": "用户确认配置是否正确",
    "confirm_count": "用户确认批量次数",
    "confirm_submit": "用户确认提交任务",
    "confirm_template": "用户确认流程模板"
  }
}
